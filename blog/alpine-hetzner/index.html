<!doctype html><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><title>Installing Alpine Linux on a Hetzner ARM server ~ lemonsh's website</title><link href=/main.css rel=stylesheet><link href=https://lemonsh.moe/rss.xml rel=alternate title=RSS type=application/rss+xml><body><header><h1>Installing Alpine Linux on a Hetzner ARM server</h1><p>ðŸ“… 2023-07-24â€‚ ðŸ•‘ 2min</header><nav><a href=/><navitem>home</navitem></a><a href=/projects/><navitem>projects</navitem></a><a href=/blog/><navitem>blog</navitem></a></nav><hr><p>Recently, I've gotten myself one of those ARM VPSes from <a rel="noopener noreferrer" href=https://www.hetzner.com/cloud target=_blank>Hetzner</a>, excited about the <em>very</em> good price-to-performance ratio. I fired the server up, and immediately went on to replace the default Ubuntu install with <a rel="noopener noreferrer" href=https://alpinelinux.org target=_blank>Alpine</a>, as it has long ago become the only server distro I use.<p>I was disappointed to see that Alpine Linux is not on the list of available ISOs, though. That kinda shocked me, as I was accustomed to the <em><strong>insane</strong></em> amount of ISO choice Hetzner normally provides with their x86 servers.<h2 id=i-will-not-tolerate-this>I will not tolerate this.</h2><h3 id=rescue-mode>Rescue mode</h3><p>Go to the Hetzner Cloud control panel, and reboot the server into rescue mode (<code>Rescue > "Enable rescue & power cycle"</code>). Pick linux64 for the Rescue OS.<p>Log in to the machine with SSH. In case you have not picked an SSH key, use the root password displayed on the Rescue tab.<h3 id=flashing-the-iso>Flashing the ISO</h3><p>Now we need to flash the Alpine Linux ISO onto the virtual hard disk. Go to the <a rel="noopener noreferrer" href=https://alpinelinux.org/downloads target=_blank>alpinelinux.org download page</a> and grab the link for the lastest <strong>aarch64 virtual</strong> release. Download and flash the ISO on the server:<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">curl</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>LO</span> https://dl-cdn.alpinelinux.org/alpine/v3.18/releases/aarch64/alpine-virt-3.18.2-aarch64.iso</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">dd</span></span><span class="z-meta z-function-call z-arguments z-shell"> if=alpine-virt-3.18.2-aarch64.iso of=/dev/sda</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">poweroff</span></span>
</span></code></pre><h3 id=installation>Installation</h3><p>After the server shuts down, turn it back on again using the Hetzner cloud control panel and enter the console (the terminal icon on the top right). Once the server boots, log in as <code>root</code>, there's no password.<p>Before we can proceed with the installation, we need to make a few preparations:<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> copy data from the mounted media to /root</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cp</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>r</span> /.modloop /root</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cp</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>r</span> /media/sda /root</span>
</span><span class="z-source z-shell z-bash">
</span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> unmount the media</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">umount</span></span><span class="z-meta z-function-call z-arguments z-shell"> /.modloop /media/sda</span>
</span><span class="z-source z-shell z-bash">
</span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> move the data to directories that were the mountpoints</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">rm</span></span><span class="z-meta z-function-call z-arguments z-shell"> /lib/modules</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">mv</span></span><span class="z-meta z-function-call z-arguments z-shell"> /root/.modloop/modules /lib</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">mv</span></span><span class="z-meta z-function-call z-arguments z-shell"> /root/sda /media</span>
</span></code></pre><p>Now you can install Alpine Linux using <code>setup-alpine</code> as you'd do normally and then reboot.</p><script async crossorigin data-category=Posts data-category-id=DIC_kwDOGenHOs4CBSqT data-emit-metadata=0 data-input-position=bottom data-lang=en data-mapping=pathname data-reactions-enabled=1 data-repo=lemon-sh/lemonsh.moe data-repo-id=R_kgDOGenHOg data-theme=transparent_dark src=https://giscus.app/client.js></script><hr><a class=footer href=#>â†‘ top â†‘</a>